@inject MapState MapState

@if (MapState.Map != null)
{
    <svg width="600" height="600" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
        @foreach (var tile in MapState.Tiles.Values)
        {
            <TileComponent Tile="@tile" Layout="@Layout"></TileComponent>
        }
    </svg>
}
else
{
    <p>No map</p>
}

@functions
{

    private Layout Layout = new Layout(Orientation.Flat, new Point(20, 20),new Point(250, 250));

    protected override void OnInit()
    {
        MapState.OnTilesChange += StateHasChanged;
    }

}